@use 'sass:map';
@use '@angular/material' as mat;

// Note: Color palettes are generated from primary: hsl(292, 16%, 49%) for MUI components
$_palettes: (
  primary: (
    0: #000000,
    10: #2c1032,
    20: #432549,
    25: #4e3054,
    30: #5b3b60,
    35: #67476d,
    40: #745379,
    50: #8e6b93,
    60: #a984ae,
    70: #c59eca,
    80: #e2b9e6,
    90: #fdd6ff,
    95: #ffebfd,
    98: #fff7fb,
    99: #fffbff,
    100: #ffffff,
  ),
  secondary: (
    0: #000000,
    10: #241725,
    20: #392c3b,
    25: #453746,
    30: #514252,
    35: #5d4d5e,
    40: #69596a,
    50: #837283,
    60: #9d8b9d,
    70: #b9a5b8,
    80: #d5c0d4,
    90: #f2dcf0,
    95: #ffebfd,
    98: #fff7fb,
    99: #fffbff,
    100: #ffffff,
  ),
  tertiary: (
    0: #000000,
    10: #360d16,
    20: #50222a,
    25: #5d2c35,
    30: #6b3740,
    35: #78434b,
    40: #864e57,
    50: #a3666f,
    60: #bf7f88,
    70: #dd99a2,
    80: #fbb4bd,
    90: #ffd9dd,
    95: #ffeced,
    98: #fff8f7,
    99: #fffbff,
    100: #ffffff,
  ),
  neutral: (
    0: #000000,
    10: #1e1b1d,
    20: #332f32,
    25: #3e3a3d,
    30: #4a4549,
    35: #565154,
    40: #625d60,
    50: #7b7579,
    60: #958f93,
    70: #b0a9ad,
    80: #ccc5c8,
    90: #e8e0e4,
    95: #f7eff2,
    98: #fff7fb,
    99: #fffbff,
    100: #ffffff,
    4: #100d10,
    6: #151215,
    12: #221f21,
    17: #2c292c,
    22: #373437,
    24: #3c383b,
    87: #dfd8dc,
    92: #eee6ea,
    94: #f4ecef,
    96: #faf1f5,
  ),
  neutral-variant: (
    0: #000000,
    10: #201a20,
    20: #352e35,
    25: #413940,
    30: #4c444c,
    35: #585058,
    40: #645c64,
    50: #7e747d,
    60: #988e96,
    70: #b3a8b1,
    80: #cfc3cc,
    90: #ebdfe8,
    95: #faedf7,
    98: #fff7fb,
    99: #fffbff,
    100: #ffffff,
  ),
  error: (
    0: #000000,
    10: #410002,
    20: #690005,
    25: #7e0007,
    30: #93000a,
    35: #a80710,
    40: #ba1a1a,
    50: #de3730,
    60: #ff5449,
    70: #ff897d,
    80: #ffb4ab,
    90: #ffdad6,
    95: #ffedea,
    98: #fff8f7,
    99: #fffbff,
    100: #ffffff,
  ),
);

$_rest: (
  secondary: map.get($_palettes, secondary),
  neutral: map.get($_palettes, neutral),
  neutral-variant: map.get($_palettes,  neutral-variant),
  error: map.get($_palettes, error),
);

$primary-palette: map.merge(map.get($_palettes, primary), $_rest);
$tertiary-palette: map.merge(map.get($_palettes, tertiary), $_rest);

@function _high-contrast-value($light, $dark, $theme-type) {
  @if ($theme-type == light) {
    @return $light;
  }
  @if ($theme-type == dark) {
    @return $dark;
  }
  @if ($theme-type == color-scheme) {
    @return light-dark(#{$light}, #{$dark});
  }
  
  @error 'Unknown theme-type #{$theme-type}. Expected light, dark, or color-scheme';
}

@mixin high-contrast-overrides($theme-type) {
  @include mat.theme-overrides((
    primary: _high-contrast-value(#3e2144, #ffeafd, $theme-type),
    on-primary: _high-contrast-value(#ffffff, #000000, $theme-type),
    primary-container: _high-contrast-value(#5d3e63, #deb5e2, $theme-type),
    on-primary-container: _high-contrast-value(#ffffff, #190121, $theme-type),
    inverse-primary: _high-contrast-value(#e2b9e6, #5c3d62, $theme-type),
    primary-fixed: _high-contrast-value(#5d3e63, #fdd6ff, $theme-type),
    primary-fixed-dim: _high-contrast-value(#45274b, #e2b9e6, $theme-type),
    on-primary-fixed: _high-contrast-value(#ffffff, #000000, $theme-type),
    on-primary-fixed-variant: _high-contrast-value(#ffffff, #200527, $theme-type),
    secondary: _high-contrast-value(#352837, #ffeafd, $theme-type),
    on-secondary: _high-contrast-value(#ffffff, #000000, $theme-type),
    secondary-container: _high-contrast-value(#534454, #d1bcd0, $theme-type),
    on-secondary-container: _high-contrast-value(#ffffff, #120714, $theme-type),
    secondary-fixed: _high-contrast-value(#534454, #f2dcf0, $theme-type),
    secondary-fixed-dim: _high-contrast-value(#3c2e3d, #d5c0d4, $theme-type),
    on-secondary-fixed: _high-contrast-value(#ffffff, #000000, $theme-type),
    on-secondary-fixed-variant: _high-contrast-value(#ffffff, #190d1b, $theme-type),
    tertiary: _high-contrast-value(#4b1d26, #ffebed, $theme-type),
    on-tertiary: _high-contrast-value(#ffffff, #000000, $theme-type),
    tertiary-container: _high-contrast-value(#6e3a42, #f7b0b9, $theme-type),
    on-tertiary-container: _high-contrast-value(#ffffff, #200107, $theme-type),
    tertiary-fixed: _high-contrast-value(#6e3a42, #ffd9dd, $theme-type),
    tertiary-fixed-dim: _high-contrast-value(#53242c, #fbb4bd, $theme-type),
    on-tertiary-fixed: _high-contrast-value(#ffffff, #000000, $theme-type),
    on-tertiary-fixed-variant: _high-contrast-value(#ffffff, #28040c, $theme-type),
    background: _high-contrast-value(#fff7fb, #151215, $theme-type),
    on-background: _high-contrast-value(#1e1b1d, #e8e0e4, $theme-type),
    surface: _high-contrast-value(#fff7fb, #151215, $theme-type),
    surface-dim: _high-contrast-value(#beb7ba, #151215, $theme-type),
    surface-bright: _high-contrast-value(#fff7fb, #534f52, $theme-type),
    surface-container-low: _high-contrast-value(#f7eff2, #221f21, $theme-type),
    surface-container-lowest: _high-contrast-value(#ffffff, #000000, $theme-type),
    surface-container: _high-contrast-value(#e8e0e4, #332f32, $theme-type),
    surface-container-high: _high-contrast-value(#dad2d6, #3e3a3d, $theme-type),
    surface-container-highest: _high-contrast-value(#ccc5c8, #4a4549, $theme-type),
    on-surface: _high-contrast-value(#000000, #ffffff, $theme-type),
    shadow: _high-contrast-value(#000000, #000000, $theme-type),
    scrim: _high-contrast-value(#000000, #000000, $theme-type),
    surface-tint: _high-contrast-value(#745379, #e2b9e6, $theme-type),
    inverse-surface: _high-contrast-value(#332f32, #e8e0e4, $theme-type),
    inverse-on-surface: _high-contrast-value(#ffffff, #000000, $theme-type),
    outline: _high-contrast-value(#312a31, #f9ecf6, $theme-type),
    outline-variant: _high-contrast-value(#4f474e, #cbbfc8, $theme-type),
    error: _high-contrast-value(#600004, #ffece9, $theme-type),
    on-error: _high-contrast-value(#ffffff, #000000, $theme-type),
    error-container: _high-contrast-value(#98000a, #ffaea4, $theme-type),
    on-error-container: _high-contrast-value(#ffffff, #220001, $theme-type),
    surface-variant: _high-contrast-value(#ebdfe8, #4c444c, $theme-type),
    on-surface-variant: _high-contrast-value(#000000, #ffffff, $theme-type),
  ))
}